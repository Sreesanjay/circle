import{a as y,m as S,u as k,r as i,bv as E,Q as A,ab as g,j as e,L as C,bc as L}from"./index-ViYfmJhI.js";import{S as P,A as R,G as F}from"./GoogleAuth-44L13Lsi.js";import{u as f}from"./formValidate-Cjawh5Gv.js";import"./extendSxProp-Jn_i6fvo.js";function U(){const r=y(),l=S(),{user:s,isError:n,isSuccess:m,errorMessage:o,status:d,isLoading:h}=k(c=>c.auth),[t,b]=i.useState({email:"",password:""}),[a,j]=i.useState({email:"",password:""}),[x,u]=i.useState(!1),p=c=>{const{name:N,value:v}=c.target;b({...t,[N]:v})},w=()=>{j({...a,email:f("email",t.email),password:f("password",t.password)}),u(!0)};return i.useEffect(()=>{x&&(!a.email&&!a.password&&r(E(t)),u(!1))},[x,t,r,a]),i.useEffect(()=>{n&&d!==409&&(A(o),r(g())),m&&(r(g()),(s==null?void 0:s.role)==="USER"?l("/"):(s==null?void 0:s.role)==="ADMIN"&&l("/admin"))},[m,s==null?void 0:s.role,l,d,r,n,o]),e.jsx(e.Fragment,{children:h?e.jsx(C,{}):e.jsxs("section",{className:"login h-screen w-screen flex",children:[e.jsx("div",{className:"left-area w-screen md:w-1/2 flex justify-center items-center",children:e.jsx("div",{className:"login-container px-4 py-10 bg-white md:mx-0 shadow rounded-3xl sm:p-10 h-min",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"flex items-center space-x-5 justify-center text-2xl mb-3",children:"Sign in"}),n&&d===409?e.jsx(P,{sx:{width:"100%"},spacing:2,children:e.jsx(R,{variant:"filled",severity:"error",children:o})}):null,e.jsxs("div",{className:"mt-5 text-black",children:[e.jsx("label",{className:"font-semibold text-sm text-gray-600 pb-1 block",children:"E-mail"}),a.email?e.jsx("small",{className:"text-red-600",children:a.email}):null,e.jsx("input",{className:"border rounded-lg px-3 py-2 mt-1 mb-5 text-sm w-full",type:"text",id:"login",name:"email",value:t.email,onChange:p}),e.jsx("label",{className:"font-semibold text-sm text-gray-600 pb-1 block",children:"Password"}),a.password?e.jsx("small",{className:"text-red-600",children:a.password}):null,e.jsx("input",{className:"border rounded-lg px-3 py-2 mt-1 mb-5 text-sm w-full",type:"password",id:"password",name:"password",value:t.password,onChange:p})]}),e.jsx("div",{className:"text-right mb-4",children:e.jsx("a",{className:"text-xs font-display font-semibold text-gray-500 hover:text-gray-600 cursor-pointer",href:"#",children:"Forgot Password?"})}),e.jsx("div",{className:"mt-5",children:e.jsx("button",{className:"py-2 px-4 bg-primary hover:bg-primary-hover focus:ring-blue-500 focus:ring-offset-blue-200 text-white w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg",type:"button",onClick:w,children:"Sign in"})}),e.jsx("div",{className:"flex justify-center w-full items-center",children:e.jsx("div",{className:"mt-5",children:e.jsx(F,{})})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("span",{className:"w-1/5 border-b dark:border-gray-600 md:w-1/4"}),e.jsx(L,{to:"/signup",className:"text-xs text-gray-500 uppercase dark:text-gray-400 hover:underline",children:"OR sign Up"}),e.jsx("span",{className:"w-1/5 border-b dark:border-gray-400 md:w-1/4"})]})]})})}),e.jsxs("div",{className:"right-area w-1/2 relative hidden md:flex",children:[e.jsx("div",{className:"rectagle-box bg-primary absolute right-0"}),e.jsx("img",{src:"https://lh3.google.com/u/0/d/1pckLUg1ueqWXAX1TqzK2dRPd7ejEZbCB",alt:"",className:"signin-image absolute top-24 left-20"})]})]})})}function M(){return e.jsx("div",{children:e.jsx(U,{})})}export{M as default};
