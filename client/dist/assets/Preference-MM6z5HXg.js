import{a as u,j as e,D as h,i as p,a_ as j,Q as m,r as n,u as g,L as y,A as I,be as b}from"./index-5Et4H7MV.js";import{B as f}from"./Toast-1zD0OKLo.js";import{d as v}from"./index.esm-kaaYny_l.js";import{M as N}from"./ManageAccSidebar-yG4ZG55i.js";import{u as _}from"./usehandleError-SZWaCsLP.js";import"./index.esm--9WoPJAH.js";import"./Menu-SrxJvqkg.js";function A({interest:r}){const c=u();async function o(a){try{if(a){const t=await p.delete(`/manage-account/interest/${a}`,{withCredentials:!0});t.data&&(c(j()),m(t.data))}}catch(t){const i=t;m.error(i.message)}}return e.jsxs("div",{className:"card flex shadow-md relative rounded-sm h-min bg-gray-900",children:[e.jsx("img",{src:r.image,alt:"",className:"w-32 h-32 object-cover"}),e.jsxs("div",{className:"details ms-3 p-3 ",children:[e.jsx("h1",{className:"text-2xl font-medium mb-2",children:r.interest}),e.jsx("p",{className:"text-sm",children:r.discription}),e.jsx("div",{className:"edit absolute right-0 top-0",onClick:()=>o(r._id),children:e.jsx(h,{size:25})})]})]})}const w=n.lazy(()=>b(()=>import("./AddInterest-J6tfakrZ.js"),__vite__mapDeps([0,1,2,3,4])));function P(){const[r,c]=n.useState([]),[o,a]=n.useState(!1),{userProfile:t}=g(s=>s.user),[i,d]=n.useState(!1),x=_();return n.useEffect(()=>{(async()=>{try{a(!0);const s=await p.post("/manage-account/interest",{interest:t==null?void 0:t.interest},{withCredentials:!0});a(!1),s.data&&c(s.data.interest)}catch(s){a(!1);const l=s;l&&x(l)}})()},[t,i]),e.jsx(e.Fragment,{children:o?e.jsx(y,{}):e.jsxs("section",{className:"preference-container flex flex-col",children:[e.jsx(N,{}),e.jsxs("div",{className:"preference p-5 m-0 sm:ms-64",children:[e.jsx(f,{"aria-label":"Default breadcrumb example",children:e.jsx(f.Item,{href:"#",icon:v,children:"Preference"})}),e.jsxs("div",{className:"text-lg my-5 font-medium flex items-center justify-between",children:["My Interest",e.jsx("div",{onClick:()=>d(!0),children:e.jsx(I,{size:58})}),e.jsx(w,{openModal:i,setOpenModal:d,myInterest:r})]}),e.jsx("section",{className:"my-interest flex gap-3 flex-wrap",children:r.map(s=>{if(s)return e.jsx(A,{interest:s},s._id)})})]})]})})}export{P as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AddInterest-J6tfakrZ.js","assets/index-5Et4H7MV.js","assets/index-a4UJhlCh.css","assets/Toast-1zD0OKLo.js","assets/index.esm--9WoPJAH.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
