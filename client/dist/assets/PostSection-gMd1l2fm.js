import{a as j,u as i,r as a,bL as v,Q as P,aj as y,j as s}from"./index-ViYfmJhI.js";import{P as N}from"./PostModal-UAKRfGWt.js";import{a as o}from"./Skeleton-B3Xns5eR.js";import{I as w,a as E}from"./ImageListItem-WyEJL3Dk.js";import"./Toast-YeMRNCBR.js";import"./index.esm-FTqwwBq9.js";import"./index.esm-hpXkIX_3.js";import"./usehandleError-xWn8anRJ.js";import"./Badge-a_ATGOrK.js";import"./Typography-sxNwq_qA.js";import"./extendSxProp-Jn_i6fvo.js";import"./createBox-uiKRyerh.js";function F(){const t=j(),{isSuccess:p,myPosts:n,isLoading:h,isError:l,errorMessage:m}=i(e=>e.post),{userProfile:r}=i(e=>e.user),{user:c}=i(e=>e.auth),[f,d]=a.useState(!1),[u,g]=a.useState(null);function x(e){d(!0),g(e)}return a.useEffect(()=>{t(v())},[t]),a.useEffect(()=>{l&&P.error(m),t(y())},[p,l,m,t]),s.jsxs("section",{className:"posts p-5",children:[h?s.jsxs("div",{className:"loader flex gap-5 justify-around",children:[s.jsx(o,{variant:"rectangular",width:210,height:118}),s.jsx(o,{variant:"rectangular",width:210,height:118}),s.jsx(o,{variant:"rectangular",width:210,height:118})]}):s.jsx(w,{style:{overflow:"hidden",height:"100%"},className:"image-list",variant:"masonry",cols:3,gap:1,children:n&&n.map(e=>s.jsx(E,{className:"",children:s.jsx("div",{className:"content p-2 shadow-md",onClick:()=>x(e),children:e.type.includes("image")?s.jsx("img",{src:e==null?void 0:e.content,className:"w-full rounded-md"}):s.jsx("div",{className:"relative",children:s.jsxs("video",{className:"w-full",muted:!0,children:[s.jsx("source",{src:e==null?void 0:e.content,type:"video/mp4"}),"Error Message"]})})})},e._id))}),r&&u&&s.jsx(N,{openModal:f,setOpenModal:d,type:"PROFILE",post:{...u,user_details:{fullname:"",user_id:"",username:r.username,profile_img:r.profile_img,email:{email:c?c.email:""}}}})]})}export{F as default};
