import{a as S,u as I,r as l,aN as U,Q as M,aO as A,j as e,L as O,E as L}from"./index-m-eWRAVj.js";import{M as R}from"./ManageAccSidebar-mpWWgI4I.js";import{U as D}from"./ProfileUpload-shQUeTGR.js";import{A as q,H as z,b as n,c as v,R as u,d as H}from"./Toast-KVdhVArs.js";import{u as N}from"./formValidate-Cjawh5Gv.js";import"./index.esm-5AkatTaU.js";import"./Menu-ML_fOrjv.js";import"./index.esm-IW_VCk-f.js";import"./ImageCrop-WxXaXkfb.js";function J(){const r=S(),{userProfile:a,isSuccess:h,isLoading:w,isError:i,status:o,errorMessage:d}=I(c=>c.user),[C,x]=l.useState(!1),[y,p]=l.useState("hidden"),[g,f]=l.useState(!1),[s,j]=l.useState({username:a!=null&&a.username?a==null?void 0:a.username:"",fullname:(a==null?void 0:a.fullname)||"",gender:(a==null?void 0:a.gender)||"",bio:(a==null?void 0:a.bio)||""}),[t,b]=l.useState({username:"",bio:""});function m(c){const{name:F,value:k}=c.target;j({...s,[F]:k})}function E(){b({...t,username:N("username",s.username),bio:N("bio",s.bio)}),f(!0)}return l.useEffect(()=>{g&&(!t.username&&!t.bio&&r(U(s)),f(!1))},[g,s,t,r]),l.useEffect(()=>{(h||i&&o!==409)&&(i&&M.error(d),r(A()))},[a,r,h,i,d,o]),e.jsx(e.Fragment,{children:w?e.jsx(O,{}):e.jsxs("section",{className:"manage-account flex flex-col",children:[e.jsx(R,{}),e.jsxs("div",{className:"edit-profile p-3  sm:ms-64",children:[e.jsx("h1",{className:"text-lg font-medium mb-5",children:"Edit profile"}),e.jsxs("div",{className:"container flex flex-col lg:grid lg:grid-cols-6",children:[e.jsxs("div",{className:"profile-change col-span-2 p-5",children:[e.jsx(D,{showUploadProfile:C,setshowUploadProfile:x}),e.jsxs("div",{className:"profile-img relative flex flex-col items-center",onMouseOverCapture:()=>p("block"),onMouseOutCapture:()=>p("hidden"),children:[e.jsx("button",{className:`edit-profileImg bg-gray-100 w-full h-full absolute top-0 ${y}`,onClick:()=>x(!0),children:e.jsx(L,{size:30})}),a!=null&&a.profile_img?e.jsx("img",{src:a==null?void 0:a.profile_img,alt:"",className:"w-72 lg:w-full shadow-lg rounded-md"}):e.jsx("img",{src:"https://static.vecteezy.com/system/resources/thumbnails/010/260/479/small/default-avatar-profile-icon-of-social-media-user-in-clipart-style-vector.jpg",alt:"",className:"w-20 lg:w-full shadow-lg rounded-md"}),e.jsx("h1",{className:"text-center mt-3 font-medium",children:"Profile Image"})]})]}),e.jsxs("form",{className:"profile-form col-span-4 p-5",children:[i&&o===409?e.jsxs(q,{color:"failure",icon:z,children:[e.jsx("span",{className:"font-medium",children:"Alert!"})," ",d]}):null,e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(n,{htmlFor:"fullname",value:"Your Full Name"})}),e.jsx(v,{id:"fullname",name:"fullname",type:"text",onChange:m,value:s.fullname,placeholder:"Enter your full name",className:"text-field "})]}),e.jsxs("div",{className:"mt-5 w-full",children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(n,{htmlFor:"username",value:"User name"})}),t.username&&e.jsx("span",{className:"text-sm text-red-600",children:t.username}),e.jsx(v,{id:"username",type:"text",name:"username",value:s.username,onChange:m,placeholder:a!=null&&a.username?a==null?void 0:a.username:"Enter the new username",required:!0,className:"text-field"})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(n,{htmlFor:"gender",value:"Gender"})}),e.jsx("div",{className:"w-64",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{id:"male",name:"gender",onChange:m,defaultChecked:s.gender==="Male",value:"Male"}),e.jsx(n,{htmlFor:"united-state",children:"Male"}),e.jsx(u,{id:"male",name:"gender",value:"Female",defaultChecked:s.gender==="Female",onChange:m}),e.jsx(n,{htmlFor:"united-state",children:"Female"}),e.jsx(u,{id:"male",name:"gender",value:"Other",defaultChecked:s.gender==="Other",onChange:m}),e.jsx(n,{htmlFor:"united-state",children:"Other"})]})})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(n,{htmlFor:"bio",value:"Bio"})}),t.bio&&e.jsx("span",{className:"text-sm text-red-600",children:t.bio}),e.jsx(H,{id:"bio",style:{maxWidth:"500px"},placeholder:"Add your bio",name:"bio",className:"bg-gray-800 text-white",required:!0,onChange:m,value:s.bio,rows:4})]}),e.jsxs("div",{className:"btn-group flex justify-end mt-5",style:{maxWidth:"500px"},children:[e.jsx("button",{className:"button  bg-red-600 p-2 px-5 rounded-lg",type:"button",onClick:()=>{b({username:"",bio:""}),j({username:a!=null&&a.username?a==null?void 0:a.username:"",fullname:(a==null?void 0:a.fullname)||"",gender:(a==null?void 0:a.gender)||"",bio:(a==null?void 0:a.bio)||""})},children:"Reset"}),e.jsx("button",{className:"button bg-primary p-2 px-5 rounded-lg ms-2",type:"button",onClick:()=>E(),children:"Update"})]})]})]})]})]})})}export{J as default};
