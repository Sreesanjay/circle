import{b as f,c as g,j as e,a as I,u as x,m as b,r as o,ac as F,Q as M,ad as B}from"./index-m-eWRAVj.js";import{M as l,B as c,a as R}from"./Toast-KVdhVArs.js";import"./index.esm-5AkatTaU.js";var u={},E=g;Object.defineProperty(u,"__esModule",{value:!0});var j=u.default=void 0,L=E(f()),O=e,D=(0,L.default)((0,O.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"InsertPhoto");j=u.default=D;var m={},H=g;Object.defineProperty(m,"__esModule",{value:!0});var v=m.default=void 0,P=H(f()),z=e,A=(0,P.default)((0,z.jsx)("path",{d:"M2 20h20v4H2v-4zm3.49-3h2.42l1.27-3.58h5.65L16.09 17h2.42L13.25 3h-2.5L5.49 17zm4.42-5.61 2.03-5.79h.12l2.03 5.79H9.91z"}),"FormatColorText");v=m.default=A;function U({openModal:a,setOpenModal:n}){const t=I(),{isSuccess:h}=x(r=>r.story),p=b(),[i,y]=o.useState(),{userProfile:d}=x(r=>r.user),[N,C]=o.useState("PUBLIC"),[S,s]=o.useState("bg-slate-50");function _(){i&&t(B({story_type:"MEDIA",content:i,visibility:N,background:S,color:""}))}o.useEffect(()=>{h&&(t(F()),M("New story added"),p("/"))},[h,p,t]);function w(r){if(r.target.files){const k=new Blob([r.target.files[0]],{type:r.target.files[0].type});y(k)}}return e.jsx(e.Fragment,{children:e.jsxs(l,{show:a,size:"md",onClose:()=>n(!1),popup:!0,children:[e.jsx(l.Header,{children:"Choose a file"}),e.jsxs(l.Body,{children:[e.jsxs("div",{className:"",children:[e.jsx("h1",{className:"mb-3",children:"Choose a file"}),e.jsx("input",{type:"file",accept:"image/png, video/*, image/jpeg ",onChange:w})]}),e.jsxs("div",{className:"flex flex-col my-3",children:[e.jsx("label",{htmlFor:"",children:"Visibility"}),e.jsxs("select",{name:"",id:"",className:"rounded-md",onChange:r=>C(r.target.value),children:[e.jsx("option",{value:"PUBLIC",children:"Public"}),e.jsx("option",{value:"CLOSE_FRIENDS",children:"Close Friends"}),(d==null?void 0:d.account_type)==="PROFESSIONAL"&&e.jsx("option",{value:"SUBSCRIBER_ONLY",children:"Subscriber Only"})]})]}),e.jsxs("div",{className:"p-3 border mb-3 rounded-md",children:[e.jsx("h1",{className:"font-light mb-3",children:"Backgrounds"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"color rounded-full cursor-pointer border h-8 w-8 bg-gradient-to-r from-indigo-500 to-purple-500",onClick:()=>s("bg-gradient-to-r from-indigo-500 to-purple-500")}),e.jsx("div",{className:"color rounded-full cursor-pointer border h-8 w-8 bg-gradient-to-r from-cyan-500 to-blue-500",onClick:()=>s("bg-gradient-to-r from-cyan-500 to-blue-500")}),e.jsx("div",{className:"color rounded-full cursor-pointer border h-8 w-8 bg-gradient-to-r from-cyan-500 to-green-500",onClick:()=>s("bg-gradient-to-r from-cyan-500 to-green-500")}),e.jsx("div",{className:"color rounded-full cursor-pointer border h-8 w-8 bg-slate-700",onClick:()=>s("bg-slate-700")}),e.jsx("div",{className:"color rounded-full cursor-pointer border h-8 w-8 bg-yellow-500",onClick:()=>s("bg-yellow-500")}),e.jsx("div",{className:"color rounded-full cursor-pointer border h-8 w-8 bg-slate-50",onClick:()=>s("bg-slate-50")}),e.jsx("div",{className:"color rounded-full cursor-pointer border h-8 w-8 bg-cyan-500",onClick:()=>s("bg-cyan-500")})]})]})]}),e.jsx(l.Footer,{children:i&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-3 py-1 bg-red-500 rounded-md",children:"Discard"}),e.jsx("button",{className:"px-3 py-1 bg-primary rounded-md",onClick:_,children:"Submit"})]})})]})})}function V(){const a=b(),[n,t]=o.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(U,{openModal:n,setOpenModal:t}),e.jsxs("section",{className:"p-5 h-screen",children:[e.jsxs(c,{"aria-label":"Default breadcrumb example",children:[e.jsx(c.Item,{onClick:()=>a("/"),icon:R,children:"Home"}),e.jsx(c.Item,{children:"Add Story"})]}),e.jsxs("div",{className:"add-story flex justify-center gap-5 items-center",children:[e.jsxs("div",{className:"story-type w-72 flex flex-col items-center justify-center bg-slate-300 rounded-md cursor-pointer",onClick:()=>t(!0),children:[e.jsx("div",{className:"bg-slate-50 p-3 rounded-full mb-3",children:e.jsx(j,{})}),e.jsx("h1",{className:"text-white",children:"Create a Photo Story"})]}),e.jsxs("div",{className:"story-type bg-slate-300 w-72 flex flex-col items-center justify-center rounded-md cursor-pointer",children:[e.jsx("div",{className:"bg-slate-50 p-3 rounded-full mb-3",onClick:()=>a("/add-story/create-text-story"),children:e.jsx(v,{className:""})}),e.jsx("h1",{className:"text-white",children:"Create a Text Story"})]})]})]})]})}export{V as default};
