import{r as i,al as Y,ak as q,am as F,an as g,ao as J,ap as V,j as e,aq as S,as as K,bM as me,at as ve,bo as P,ay as ue,aw as pe,aG as be,aD as le,i as Q,Q as E,P as oe,a as xe,u as re,ai as fe,L as ye,bN as je,bO as Ce,m as Ne,aQ as Ie,aR as we,T as te,aU as Le,bP as $e}from"./index-m-eWRAVj.js";import{M as L}from"./Toast-KVdhVArs.js";import{a as ge}from"./index.esm-1llS7C12.js";import{u as Pe}from"./usehandleError-m2VEsqkY.js";import{B as Se}from"./Badge-w0IGsy5p.js";import{T as se}from"./Typography-b7OtY1B2.js";const Re=i.createContext({}),R=Re;function ke(s){return Y("MuiList",s)}q("MuiList",["root","padding","dense","subheader"]);const _e=["children","className","component","dense","disablePadding","subheader"],Me=s=>{const{classes:t,disablePadding:a,dense:n,subheader:r}=s;return K({root:["root",!a&&"padding",n&&"dense",r&&"subheader"]},ke,t)},Te=F("ul",{name:"MuiList",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:a}=s;return[t.root,!a.disablePadding&&t.padding,a.dense&&t.dense,a.subheader&&t.subheader]}})(({ownerState:s})=>g({listStyle:"none",margin:0,padding:0,position:"relative"},!s.disablePadding&&{paddingTop:8,paddingBottom:8},s.subheader&&{paddingTop:0})),Ae=i.forwardRef(function(t,a){const n=J({props:t,name:"MuiList"}),{children:r,className:c,component:l="ul",dense:u=!1,disablePadding:x=!1,subheader:m}=n,b=V(n,_e),y=i.useMemo(()=>({dense:u}),[u]),o=g({},n,{component:l,dense:u,disablePadding:x}),p=Me(o);return e.jsx(R.Provider,{value:y,children:e.jsxs(Te,g({as:l,className:S(p.root,c),ref:a,ownerState:o},b,{children:[m,r]}))})}),ce=Ae;function Oe(s){return Y("MuiListItem",s)}const Be=q("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),O=Be;function Ee(s){return Y("MuiListItemButton",s)}const Ve=q("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),B=Ve,Fe=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],Ge=(s,t)=>{const{ownerState:a}=s;return[t.root,a.dense&&t.dense,a.alignItems==="flex-start"&&t.alignItemsFlexStart,a.divider&&t.divider,!a.disableGutters&&t.gutters]},Ue=s=>{const{alignItems:t,classes:a,dense:n,disabled:r,disableGutters:c,divider:l,selected:u}=s,m=K({root:["root",n&&"dense",!c&&"gutters",l&&"divider",r&&"disabled",t==="flex-start"&&"alignItemsFlexStart",u&&"selected"]},Ee,a);return g({},a,m)},ze=F(me,{shouldForwardProp:s=>ve(s)||s==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Ge})(({theme:s,ownerState:t})=>g({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:s.transitions.create("background-color",{duration:s.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(s.vars||s).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${B.selected}`]:{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / ${s.vars.palette.action.selectedOpacity})`:P(s.palette.primary.main,s.palette.action.selectedOpacity),[`&.${B.focusVisible}`]:{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / calc(${s.vars.palette.action.selectedOpacity} + ${s.vars.palette.action.focusOpacity}))`:P(s.palette.primary.main,s.palette.action.selectedOpacity+s.palette.action.focusOpacity)}},[`&.${B.selected}:hover`]:{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / calc(${s.vars.palette.action.selectedOpacity} + ${s.vars.palette.action.hoverOpacity}))`:P(s.palette.primary.main,s.palette.action.selectedOpacity+s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / ${s.vars.palette.action.selectedOpacity})`:P(s.palette.primary.main,s.palette.action.selectedOpacity)}},[`&.${B.focusVisible}`]:{backgroundColor:(s.vars||s).palette.action.focus},[`&.${B.disabled}`]:{opacity:(s.vars||s).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(s.vars||s).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),De=i.forwardRef(function(t,a){const n=J({props:t,name:"MuiListItemButton"}),{alignItems:r="center",autoFocus:c=!1,component:l="div",children:u,dense:x=!1,disableGutters:m=!1,divider:b=!1,focusVisibleClassName:y,selected:o=!1,className:p}=n,h=V(n,Fe),v=i.useContext(R),C=i.useMemo(()=>({dense:x||v.dense||!1,alignItems:r,disableGutters:m}),[r,v.dense,x,m]),j=i.useRef(null);ue(()=>{c&&j.current&&j.current.focus()},[c]);const w=g({},n,{alignItems:r,dense:C.dense,disableGutters:m,divider:b,selected:o}),d=Ue(w),N=pe(j,a);return e.jsx(R.Provider,{value:C,children:e.jsx(ze,g({ref:N,href:h.href||h.to,component:(h.href||h.to)&&l==="div"?"button":l,focusVisibleClassName:S(d.focusVisible,y),ownerState:w,className:S(d.root,p)},h,{classes:d,children:u}))})}),ae=De;function He(s){return Y("MuiListItemSecondaryAction",s)}q("MuiListItemSecondaryAction",["root","disableGutters"]);const We=["className"],Qe=s=>{const{disableGutters:t,classes:a}=s;return K({root:["root",t&&"disableGutters"]},He,a)},Ye=F("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:a}=s;return[t.root,a.disableGutters&&t.disableGutters]}})(({ownerState:s})=>g({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},s.disableGutters&&{right:0})),he=i.forwardRef(function(t,a){const n=J({props:t,name:"MuiListItemSecondaryAction"}),{className:r}=n,c=V(n,We),l=i.useContext(R),u=g({},n,{disableGutters:l.disableGutters}),x=Qe(u);return e.jsx(Ye,g({className:S(x.root,r),ownerState:u,ref:a},c))});he.muiName="ListItemSecondaryAction";const qe=he,Je=["className"],Ke=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Xe=(s,t)=>{const{ownerState:a}=s;return[t.root,a.dense&&t.dense,a.alignItems==="flex-start"&&t.alignItemsFlexStart,a.divider&&t.divider,!a.disableGutters&&t.gutters,!a.disablePadding&&t.padding,a.button&&t.button,a.hasSecondaryAction&&t.secondaryAction]},Ze=s=>{const{alignItems:t,button:a,classes:n,dense:r,disabled:c,disableGutters:l,disablePadding:u,divider:x,hasSecondaryAction:m,selected:b}=s;return K({root:["root",r&&"dense",!l&&"gutters",!u&&"padding",x&&"divider",c&&"disabled",a&&"button",t==="flex-start"&&"alignItemsFlexStart",m&&"secondaryAction",b&&"selected"],container:["container"]},Oe,n)},es=F("div",{name:"MuiListItem",slot:"Root",overridesResolver:Xe})(({theme:s,ownerState:t})=>g({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&g({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${B.root}`]:{paddingRight:48}},{[`&.${O.focusVisible}`]:{backgroundColor:(s.vars||s).palette.action.focus},[`&.${O.selected}`]:{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / ${s.vars.palette.action.selectedOpacity})`:P(s.palette.primary.main,s.palette.action.selectedOpacity),[`&.${O.focusVisible}`]:{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / calc(${s.vars.palette.action.selectedOpacity} + ${s.vars.palette.action.focusOpacity}))`:P(s.palette.primary.main,s.palette.action.selectedOpacity+s.palette.action.focusOpacity)}},[`&.${O.disabled}`]:{opacity:(s.vars||s).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(s.vars||s).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:s.transitions.create("background-color",{duration:s.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(s.vars||s).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${O.selected}:hover`]:{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / calc(${s.vars.palette.action.selectedOpacity} + ${s.vars.palette.action.hoverOpacity}))`:P(s.palette.primary.main,s.palette.action.selectedOpacity+s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / ${s.vars.palette.action.selectedOpacity})`:P(s.palette.primary.main,s.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),ss=F("li",{name:"MuiListItem",slot:"Container",overridesResolver:(s,t)=>t.container})({position:"relative"}),ts=i.forwardRef(function(t,a){const n=J({props:t,name:"MuiListItem"}),{alignItems:r="center",autoFocus:c=!1,button:l=!1,children:u,className:x,component:m,components:b={},componentsProps:y={},ContainerComponent:o="li",ContainerProps:{className:p}={},dense:h=!1,disabled:v=!1,disableGutters:C=!1,disablePadding:j=!1,divider:w=!1,focusVisibleClassName:d,secondaryAction:N,selected:T=!1,slotProps:k={},slots:G={}}=n,X=V(n.ContainerProps,Je),Z=V(n,Ke),U=i.useContext(R),z=i.useMemo(()=>({dense:h||U.dense||!1,alignItems:r,disableGutters:C}),[r,U.dense,h,C]),D=i.useRef(null);ue(()=>{c&&D.current&&D.current.focus()},[c]);const $=i.Children.toArray(u),ee=$.length&&be($[$.length-1],["ListItemSecondaryAction"]),A=g({},n,{alignItems:r,autoFocus:c,button:l,dense:z.dense,disabled:v,disableGutters:C,disablePadding:j,divider:w,hasSecondaryAction:ee,selected:T}),H=Ze(A),W=pe(D,a),f=G.root||b.Root||es,I=k.root||y.root||{},_=g({className:S(H.root,I.className,x),disabled:v},Z);let M=m||"li";return l&&(_.component=m||"div",_.focusVisibleClassName=S(O.focusVisible,d),M=me),ee?(M=!_.component&&!m?"div":M,o==="li"&&(M==="li"?M="div":_.component==="li"&&(_.component="div")),e.jsx(R.Provider,{value:z,children:e.jsxs(ss,g({as:o,className:S(H.container,p),ref:W,ownerState:A},X,{children:[e.jsx(f,g({},I,!le(f)&&{as:M,ownerState:g({},A,I.ownerState)},_,{children:$})),$.pop()]}))})):e.jsx(R.Provider,{value:z,children:e.jsxs(f,g({},I,{as:M,ref:W},!le(f)&&{ownerState:g({},A,I.ownerState)},_,{children:[$,N&&e.jsx(qe,{children:N})]}))})}),ne=ts;function as(s){return Y("MuiListItemText",s)}const ns=q("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),de=ns,is=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],os=s=>{const{classes:t,inset:a,primary:n,secondary:r,dense:c}=s;return K({root:["root",a&&"inset",c&&"dense",n&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},as,t)},rs=F("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:a}=s;return[{[`& .${de.primary}`]:t.primary},{[`& .${de.secondary}`]:t.secondary},t.root,a.inset&&t.inset,a.primary&&a.secondary&&t.multiline,a.dense&&t.dense]}})(({ownerState:s})=>g({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},s.primary&&s.secondary&&{marginTop:6,marginBottom:6},s.inset&&{paddingLeft:56})),ls=i.forwardRef(function(t,a){const n=J({props:t,name:"MuiListItemText"}),{children:r,className:c,disableTypography:l=!1,inset:u=!1,primary:x,primaryTypographyProps:m,secondary:b,secondaryTypographyProps:y}=n,o=V(n,is),{dense:p}=i.useContext(R);let h=x??r,v=b;const C=g({},n,{disableTypography:l,inset:u,primary:!!h,secondary:!!v,dense:p}),j=os(C);return h!=null&&h.type!==se&&!l&&(h=e.jsx(se,g({variant:p?"body2":"body1",className:j.primary,component:m!=null&&m.variant?void 0:"span",display:"block"},m,{children:h}))),v!=null&&v.type!==se&&!l&&(v=e.jsx(se,g({variant:"body2",className:j.secondary,color:"text.secondary",display:"block"},y,{children:v}))),e.jsxs(rs,g({className:S(j.root,c),ownerState:C,ref:a},o,{children:[h,v]}))}),ie=ls;function cs({item:s,post_id:t}){var y;const[a,n]=i.useState([]),[r,c]=i.useState(!1),[l,u]=i.useState(""),[x,m]=i.useState(!1);i.useEffect(()=>{r&&(async()=>{try{const o=await Q.get(`/posts/comment/replys/${s._id}`,{withCredentials:!0});o.data&&n(o.data.replys)}catch(o){const p=o;E.error(p.message)}})()},[r,s]);async function b(){try{if(l){const o=await Q.post("/posts/comment",{content:l,post_id:t,reply:s._id},{withCredentials:!0});o.data&&(u(""),m(!1),c(!0),n([...a,o.data.newComment]))}}catch(o){const p=o;E.error(p.message)}}return e.jsxs("section",{className:"comment mt-5 pb-5 bg-gray-800",children:[e.jsxs("div",{className:"header flex gap-3 px-5 py-2  rounded-md",children:[e.jsx("div",{className:"profile-img-icon",children:s!=null&&s.user_details.profile_img?e.jsx("img",{src:(y=s==null?void 0:s.user_details)==null?void 0:y.profile_img,alt:"",style:{},className:"w-12 rounded-lg"}):e.jsx(oe,{email:(s==null?void 0:s.user_details.email.email)||"",size:"small"})}),e.jsx("div",{className:"name",children:e.jsx("h1",{children:s.user_details.username})})]}),e.jsx("div",{className:"content p-5 bg-gray-800",children:e.jsx("span",{className:"font-light",children:s.content})}),x&&e.jsxs("div",{className:"add-comment flex items-center h-min my-3 px-2",children:[e.jsx("input",{type:"text",className:"rounded-md add-comment-inp mr-2 bg-gray-800",name:"comment",placeholder:"Add your comment",onChange:o=>u(o.target.value)}),e.jsx("div",{className:"cursor-pointer",onClick:b,children:e.jsx(ge,{})})]}),e.jsx("button",{onClick:()=>c(!r),className:"px-3 text-sm",children:r?"hide replies":"View replies"}),e.jsx("button",{className:"px-3 text-sm",onClick:()=>m(!x),children:"Reply"}),r&&e.jsx("div",{className:"replys m-5 ",children:a&&a.map(o=>{var p;return e.jsxs("div",{className:"reply bg-gray-900 rounded-md mb-3",children:[e.jsxs("div",{className:"header flex gap-3 px-5 py-2",children:[e.jsx("div",{className:"profile-img-icon",children:o!=null&&o.user_details.profile_img?e.jsx("img",{src:(p=o==null?void 0:o.user_details)==null?void 0:p.profile_img,alt:"",style:{},className:"w-9 rounded-lg"}):e.jsx(oe,{email:(o==null?void 0:o.user_details.email.email)||"",size:"small"})}),e.jsx("div",{className:"name",children:e.jsx("h1",{children:o.user_details.username})})]}),e.jsx("div",{className:"content p-5 font-light",children:o.content})]})})})]})}function ds({openModal:s,setOpenModal:t,post:a}){const n=xe(),{isLoading:r,isSuccess:c,isError:l,errorMessage:u}=re(d=>d.post),[x,m]=i.useState([]),b=Pe(),{userProfile:y}=re(d=>d.user),[o,p]=i.useState(a.tags),[h,v]=i.useState(a.caption),[C,j]=i.useState(a.visibility);i.useEffect(()=>{(async()=>{if(s)try{const d=await Q.get("/manage-account/interest",{withCredentials:!0});d.data&&(m(d.data.interest),m(d.data.interest))}catch(d){const N=d;N&&b(N)}})()},[y]);function w(){n(je({data:{content:new Blob,visibility:C,caption:h,tags:o},id:a._id}))}return i.useEffect(()=>{n(fe()),c&&t(!1),l&&E.error(u)},[c,l,u,n,t,j,p,v,a]),e.jsx("div",{children:r?e.jsx(ye,{}):e.jsxs(L,{show:s,onClose:()=>t(!1),children:[e.jsx(L.Header,{children:"Terms of Service"}),e.jsx(L.Body,{children:e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-control flex flex-col lg:pe-16 mb-4",children:[e.jsx("label",{htmlFor:"",children:"Add Caption"}),e.jsx("textarea",{className:"rounded-md",onChange:d=>v(d.target.value),value:h})]}),e.jsxs("div",{className:"form-control flex flex-col lg:pe-16 mb-3",children:[e.jsx("label",{htmlFor:"",children:"Visibility"}),e.jsx("select",{name:"",id:"",className:"rounded-md",defaultValue:C,onChange:d=>j(d.target.value),children:e.jsx("option",{value:"public",children:"Public"})})]}),e.jsxs("div",{className:"form-control flex flex-col lg:pe-16",children:[e.jsx("label",{htmlFor:"",children:"Tags"}),e.jsx("div",{className:"selected-tags flex gap-5 my-5 flex-wrap",children:o.map((d,N)=>{const T=x.find(k=>k._id===d);return e.jsx(Se,{badgeContent:e.jsx("button",{onClick:()=>p(k=>k.filter(G=>G!==d)),children:"-"}),color:"success",children:T&&T.interest},N)})}),e.jsxs("select",{name:"",id:"",className:"rounded-md ",onChange:d=>p(N=>[...N,d.target.value]),children:[e.jsx("option",{value:""}),x&&x.map((d,N)=>e.jsx("option",{value:d._id,children:d.interest},N))]})]}),e.jsxs("div",{className:"form-buttons",children:[e.jsx("button",{className:"bg-red-600 hover:bg-red-800 px-5 py-1 rounded-md text-white mt-5 mr-5",onClick:()=>{j(a.visibility),p(a.tags),v(a.caption)},children:"Reset"}),e.jsx("button",{className:"bg-primary hover:bg-primary-hover px-5 py-1 rounded-md text-white mt-5",onClick:w,children:"Upload"})]})]})})]})})}function ms({openModal:s,setOpenModal:t,post:a}){var c;const[n,r]=i.useState(0);return i.useEffect(()=>{(async()=>{if(a){const l=await Ce(a._id);l&&r(l.comment)}})()},[a]),e.jsx("div",{children:e.jsxs(L,{show:s,size:"3xl",onClose:()=>t(!1),children:[e.jsx(L.Header,{children:"Insights"}),e.jsx(L.Body,{children:e.jsxs("div",{className:"space-y-6 grid grid-cols-2 h-full",children:[e.jsx("div",{className:"post col-span-2 sm:col-span-1",children:a.type.includes("image")?e.jsx("img",{src:a==null?void 0:a.content,className:"w-4/5 rounded-md"}):e.jsx("div",{className:"relative",children:e.jsxs("video",{className:"w-full",loop:!0,muted:!0,autoPlay:!0,children:[e.jsx("source",{src:a==null?void 0:a.content,type:"video/mp4"}),"Error Message"]})})}),e.jsx("div",{className:"insights col-span-2 sm:col-span-1 h-full",children:e.jsxs("ul",{className:"flex flex-col gap-6",children:[e.jsx("li",{children:e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsx("h1",{className:"col-span-2 font-medium text-xl",children:"Likes"}),e.jsx("h1",{className:"col-span-1 font-medium text-xl",children:a.likes.length})]})}),e.jsx("li",{children:e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsx("h1",{className:"col-span-2 font-medium text-xl",children:"Comments"}),e.jsx("h1",{className:"col-span-1 font-medium text-xl",children:n})]})}),e.jsx("li",{children:e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsx("h1",{className:"col-span-2 font-medium text-xl",children:"Account Reached"}),e.jsx("h1",{className:"col-span-1 font-medium text-xl",children:a.impressions.length})]})}),e.jsx("li",{children:e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsx("h1",{className:"col-span-2 font-medium text-xl",children:"Clicks"}),e.jsx("h1",{className:"col-span-1 font-medium text-xl",children:(c=a==null?void 0:a.clicks)==null?void 0:c.length})]})})]})})]})}),e.jsx(L.Footer,{})]})})}function vs({openModal:s,type:t,setOpenModal:a,post:n}){var H,W;const r=xe(),c=Ne(),{isSuccess:l,isError:u,errorMessage:x}=re(f=>f.post),m=i.useRef(null),b=new Date(n.createdAt),[y,o]=i.useState(!1),[p,h]=i.useState([]),[v,C]=i.useState(""),[j,w]=i.useState(!1),[d,N]=i.useState(!1),[T,k]=i.useState(!1),[G,X]=i.useState(!1),[Z,U]=i.useState(!1);i.useEffect(()=>{(async()=>{try{const f=await Q.get(`/posts/comment/${n._id}`,{withCredentials:!0});f.data&&h(f.data.comments)}catch(f){const I=f;E.error(I.message)}})()},[s,n]);async function z(){try{if(v){const f=await Q.post("/posts/comment",{content:v,post_id:n._id},{withCredentials:!0});f.data&&h([...p,f.data.newComment])}else throw new Error("Comment empty")}catch(f){const I=f;E.error(I.message)}}function D(){r(Le(n._id))}const $=()=>{const f=m.current;f&&(y?f.muted=!1:f.muted=!0,o(!y))};function ee(){X(!0)}function A(){r($e(n._id))}return i.useEffect(()=>{l&&a(!1),u&&E.error(x),r(fe())},[l,a,r,u,x]),e.jsxs("div",{children:[e.jsx(ds,{openModal:G,setOpenModal:X,post:n}),Z&&e.jsx(ms,{openModal:Z,setOpenModal:U,post:n}),e.jsx(L,{show:s,onClose:()=>a(!1),size:"5xl",children:e.jsxs(L.Body,{className:"view-post-modal flex flex-col sm:flex-row bg-gray-900 shadow-xl",children:[e.jsxs("div",{className:"content p-2 sm:w-1/2 flex flex-col items-start justify-between",children:[n.type.includes("image")?e.jsx("img",{src:n==null?void 0:n.content,className:"w-5/6 rounded-md"}):e.jsxs("div",{className:"relative",children:[e.jsxs("video",{className:"w-full",loop:!0,muted:!0,ref:m,autoPlay:!0,children:[e.jsx("source",{src:n==null?void 0:n.content,type:"video/mp4"}),"Error Message"]}),e.jsx("div",{className:"absolute bottom-1 volume-button rounded-full",onClick:()=>$(),children:y?e.jsx(Ie,{size:25}):e.jsx(we,{size:25})})]}),t==="PROFILE"?n.is_boosted?e.jsx("button",{className:"bg-primary py-2 hover:bg-primary-hover px-3 rounded-md mt-5 text-white",onClick:()=>U(!0),children:"View Insights"}):e.jsx("button",{className:"bg-primary py-2 hover:bg-primary-hover px-3 rounded-md mt-5 text-white",onClick:()=>c(`/posts/boost/${n==null?void 0:n._id}`),children:"Boost this post"}):null]}),e.jsxs("div",{className:"flex flex-col sm:w-1/2",children:[e.jsxs("div",{className:"header flex items-center gap-3 shadow-md w-full h-min py-2 px-3",children:[e.jsx("div",{className:"profile-img-icon",children:(H=n==null?void 0:n.user_details)!=null&&H.profile_img?e.jsx("img",{src:(W=n==null?void 0:n.user_details)==null?void 0:W.profile_img,alt:"",style:{},className:"w-16 rounded-lg"}):e.jsx(oe,{email:(n==null?void 0:n.user_details.email.email)||"",size:"medium"})}),e.jsxs("div",{className:"name w-full",children:[e.jsx("h1",{className:"text-white",children:n.user_details.username}),e.jsx("small",{className:"text-xs text-slate-500",children:`${b.getDay()} - ${b.getMonth()+1} - ${b.getFullYear()}`})]}),t==="PROFILE"?e.jsx("div",{className:"cursor-pointer",onClick:()=>w(!j),children:e.jsx(te,{size:35})}):t==="SAVED"?e.jsx("div",{className:"cursor-pointer",onClick:()=>k(!j),children:e.jsx(te,{size:35})}):t==="OTHERS"?e.jsx("div",{className:"cursor-pointer",onClick:()=>N(!d),children:e.jsx(te,{size:35})}):null,e.jsx("div",{className:"",children:e.jsx(L.Header,{className:"p-0"})})]}),e.jsxs("div",{className:"add-comment flex items-center h-min my-3 pe-2",children:[e.jsx("input",{type:"text",className:"rounded-md bg-gray-800 text-white add-comment-inp mr-2",value:v,name:"comment",placeholder:"Add your comment",onChange:f=>C(f.target.value)}),e.jsx("div",{onClick:()=>{z(),C("")},className:"cursor-pointer text-white",children:e.jsx(ge,{})}),j&&e.jsx("div",{className:"list absolute right-8 top-24 z-20",children:e.jsxs(ce,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},className:"rounded-md shadow-md ","aria-label":"contacts",onClick:()=>w(!1),children:[e.jsx(ne,{disablePadding:!0,onClick:()=>A(),children:e.jsx(ae,{children:e.jsx(ie,{primary:"Delete",className:"px-5"})})}),e.jsx(ne,{disablePadding:!0,onClick:()=>ee(),children:e.jsx(ae,{children:e.jsx(ie,{primary:"Edit",className:"px-5"})})})]})}),T&&e.jsx("div",{className:"list absolute right-8 top-24 z-20",children:e.jsx(ce,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},className:"rounded-md shadow-md ","aria-label":"contacts",onClick:()=>w(!1),children:e.jsx(ne,{disablePadding:!0,onClick:()=>D(),children:e.jsx(ae,{children:e.jsx(ie,{primary:"Unsave",className:"px-5"})})})})})]}),e.jsx("div",{className:"comments overflow-y-scroll",children:p==null?void 0:p.map((f,I)=>e.jsx(cs,{item:f,post_id:n._id},I))})]})]})})]})}export{ce as L,vs as P,ne as a,ae as b,ie as c};
