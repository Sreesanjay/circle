import{r as t,u as f,i as g,Q as x,j as s}from"./index-ngpxSBwB.js";import{P as j}from"./PostModal-sJKDCdkl.js";import{a as r}from"./Skeleton-EkNpgkIA.js";import{I as v,a as S}from"./ImageListItem-1FRTjR-V.js";import"./Toast-zCjXuh_L.js";import"./index.esm-a0seUomB.js";import"./index.esm-u3ZIBSJg.js";import"./usehandleError-HhD04ylB.js";import"./Badge-7XuqKTLu.js";import"./Typography-fy-MA7oi.js";import"./extendSxProp-wUtEhICH.js";import"./createBox-bNRs2Mst.js";function D(){const[i,c]=t.useState([]),{isSuccess:l}=f(e=>e.post),[d,a]=t.useState(!1),[m,o]=t.useState(!1),[n,u]=t.useState(null);function h(e){o(!0),u(e)}return t.useEffect(()=>{(async()=>{try{a(!0);const e=await g.get("/profile/saved-posts",{withCredentials:!0});e.data&&(a(!1),c(e.data.posts))}catch(e){a(!1);const p=e;x.error(p.message)}})()},[l]),s.jsxs("div",{children:[s.jsx("section",{className:"posts p-5",children:d?s.jsxs("div",{className:"loader flex gap-5 justify-around",children:[s.jsx(r,{variant:"rectangular",width:210,height:118}),s.jsx(r,{variant:"rectangular",width:210,height:118}),s.jsx(r,{variant:"rectangular",width:210,height:118})]}):s.jsx(v,{style:{overflow:"hidden",height:"100%"},className:"image-list",variant:"masonry",cols:3,gap:1,children:i&&i.map(e=>s.jsx(s.Fragment,{children:s.jsx(S,{className:"",children:s.jsx("div",{className:"content p-2 shadow-md",onClick:()=>h(e),children:e.type.includes("image")?s.jsx("img",{src:e==null?void 0:e.content,className:"w-full rounded-md"}):s.jsx("div",{className:"relative",children:s.jsxs("video",{className:"w-full",muted:!0,children:[s.jsx("source",{src:e==null?void 0:e.content,type:"video/mp4"}),"Error Message"]})})})},e._id)}))})}),n&&s.jsx(j,{openModal:m,setOpenModal:o,type:"SAVED",post:n})]})}export{D as default};
