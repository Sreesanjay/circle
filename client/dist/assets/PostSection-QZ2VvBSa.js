import{a as j,u as i,r as a,bL as v,Q as P,ai as y,j as s}from"./index-m-eWRAVj.js";import{P as N}from"./PostModal-Qoanxz9C.js";import{a as o}from"./Skeleton--cpLnyrr.js";import{I as w,a as E}from"./ImageListItem-YsXFl5VX.js";import"./Toast-KVdhVArs.js";import"./index.esm-5AkatTaU.js";import"./index.esm-1llS7C12.js";import"./usehandleError-m2VEsqkY.js";import"./Badge-w0IGsy5p.js";import"./Typography-b7OtY1B2.js";import"./extendSxProp-ya0F_tEc.js";import"./createBox-2xx0UrTx.js";function F(){const t=j(),{isSuccess:p,myPosts:n,isLoading:h,isError:l,errorMessage:m}=i(e=>e.post),{userProfile:r}=i(e=>e.user),{user:c}=i(e=>e.auth),[f,d]=a.useState(!1),[u,g]=a.useState(null);function x(e){d(!0),g(e)}return a.useEffect(()=>{t(v())},[t]),a.useEffect(()=>{l&&P.error(m),t(y())},[p,l,m,t]),s.jsxs("section",{className:"posts p-5",children:[h?s.jsxs("div",{className:"loader flex gap-5 justify-around",children:[s.jsx(o,{variant:"rectangular",width:210,height:118}),s.jsx(o,{variant:"rectangular",width:210,height:118}),s.jsx(o,{variant:"rectangular",width:210,height:118})]}):s.jsx(w,{style:{overflow:"hidden",height:"100%"},className:"image-list",variant:"masonry",cols:3,gap:1,children:n&&n.map(e=>s.jsx(E,{className:"",children:s.jsx("div",{className:"content p-2 shadow-md",onClick:()=>x(e),children:e.type.includes("image")?s.jsx("img",{src:e==null?void 0:e.content,className:"w-full rounded-md"}):s.jsx("div",{className:"relative",children:s.jsxs("video",{className:"w-full",muted:!0,children:[s.jsx("source",{src:e==null?void 0:e.content,type:"video/mp4"}),"Error Message"]})})})},e._id))}),r&&u&&s.jsx(N,{openModal:f,setOpenModal:d,type:"PROFILE",post:{...u,user_details:{fullname:"",user_id:"",username:r.username,profile_img:r.profile_img,email:{email:c?c.email:""}}}})]})}export{F as default};
